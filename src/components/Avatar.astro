---
export interface Props {
  src: string;
  alt: string;
}

const { src, alt } = Astro.props;
---

<div class="relative group flex-shrink-0 avatar-container">
  <!-- 外发光环 -->
  <div class="absolute -inset-2 bg-gradient-to-r from-pink-600 via-purple-600 to-cyan-600 rounded-full blur-lg opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse-glow"></div>
  
  <!-- 旋转光环 -->
  <div class="absolute -inset-1 bg-gradient-conic rounded-full animate-spin-slow opacity-50 group-hover:opacity-80"></div>
  
  <!-- 头像图片 -->
  <img 
    class="relative w-32 h-32 lg:w-40 lg:h-40 rounded-full object-cover border-4 border-white/30 shadow-2xl transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 group-hover:border-white/50 avatar-image" 
    src={src}
    alt={alt}
    loading="eager"
  />
  
  <!-- 悬停时的闪光效果 -->
  <div class="absolute inset-0 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-300">
    <div class="absolute inset-0 shimmer-overlay"></div>
  </div>
</div>

<style>
  .avatar-container {
    animation: float 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
  }
  
  .bg-gradient-conic {
    background: conic-gradient(
      from 0deg,
      #ff6b6b,
      #feca57,
      #48dbfb,
      #ff9ff3,
      #54a0ff,
      #5f27cd,
      #ff6b6b
    );
  }
  
  .shimmer-overlay {
    background: linear-gradient(
      135deg,
      transparent 30%,
      rgba(255, 255, 255, 0.5) 50%,
      transparent 70%
    );
    animation: shimmer-move 1.5s ease-in-out infinite;
  }
  
  @keyframes shimmer-move {
    0% { transform: translateX(-100%) translateY(-100%); }
    100% { transform: translateX(100%) translateY(100%); }
  }
  
  .avatar-image {
    filter: drop-shadow(0 0 20px rgba(168, 85, 247, 0.3));
  }
  
  .avatar-image:hover {
    filter: drop-shadow(0 0 30px rgba(168, 85, 247, 0.6));
  }
</style>
